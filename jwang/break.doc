
FROM: JAMES WANG

TO:   EDWARD TAM

COPIES: SEE CC LIST

SUBJECT: HOW THE CONSAT AND X.25 HANDLE THE "BREAK" ENTERED BY USER

********************************************************************

      WHEN THE USER ENTERS "BREAK", CONSAT WILL SEND ISIS MESSAGE "AE"
TO THE X.25. FOUR FLAGS WILL BE CHECKED TO DECIDE WHAT KIND OF ACTION ON X.25
IS TO BE TAKEN AFTER X.25 RECEIVES THIS ISIS "AE" MESSAGE.
      THESE FOUR FLAGS ARE INTERRUPT FLAG, RESET FLAG, INDICATION OF BREAK
PAD MESSAGE FLAG, DISCARD OUTPUT FLAG. (ESCAPE FROM DATA TRANSFER STATE---
NOT IMPLEMENTED BY TYMNET). IF THE FLAGS ARE SET, THE CORRESPONDING PACKETS
WILL BE SENT TO THE HOST. THE HOST RESPONES INTERRUPT CONF PACKET FOR
INTERRUPT PACKET, RESET CONF PACKET FOR RESET PACKET, RESUME OUTPUT FOR
DISCARD OUTPUT X.29 PACKET.

      USER PLACES A CALL FROM CONSAT TO HOST VIA X.25 INTERFACE. AFTER X.25
I/F RECEIVES A CALL CONNECTED PACKET, THESE FOUR FLAGS WILL BE SET/RESET
ACCORDING TO THE VALUE XX DEFINED BY THE X.25 SLOT TYMFILE STATEMENT 
"PADBREAK(XX)". AFTER THE CURCUIT IS BUILT, THESE FOUR FLAGS MAY BE CHANGED
AGAIN BY RECEIVING A X.29 PACKET WITH PARAMETER 07YY.


____________________________________________________________________________

FOR EXAMPLE:

          PADBREAK(21) IS DEFINED IN THE X.25 TYMFILE, OR X.29 PACKET WITH
          0715 HAS BEEN RECEIVED BY THE X.25.THE ACTION ON RECEIPT OF BREAK
          RFROM EMOTE DTE IS:

                 CONSAT        X.25                   HOST
                 -------      ------------            ----------
  USER ENTERS
  BREAK ------->
                ISIS "AE"
                MESSAGE ------->

                               INTERRUPT --------->
                                         <-------- INTERRUPT CONF
                               INDICATION
                               OF BREAK, --------->
                               DISCARD
                               OUTPUT

                                                   X.29 PACKET
                                        <--------- RESUME OUTPUT

_____________________________________________________________________

ANSWERS FOR YOUR QUESTIONS:
   1. FORMAT OF INTERRUPT---------- JJXX 10NN 2300
                INTERRUPT CONF ---- KKXX 10NN 27
                INDI OF BREAK, DISCARD OUTPUT ----- JJXX 90NN YY03 0801
                RESUME OUTPUT -----KKXX 90NN YY02 0800
      WHERE: NN IS LOGICAL CHANNEL.
             JJ, KK ARE ADDRESSES OF 01 OR 03. IF JJ IS 01 (OR 03), THEN
                 KK IS 03 (OR 01).
             XX, YY ARE THE SEQUENCE NUMBERS. (IGNORE THEM).
   2. WE CAN CHANGE THE VALUE XX IN THE STATEMENT "PADBREAK(XX)' TO CHANGE
      THE BEHAVIOR ON RECEIPT OF THE BREAK FROM DTE.
      NOTE: IF THE HOST SENDS X.29 PACKET WITH PARAMETER 07YY, THEN THE ACTION
            ON RECEIPT OF BREAK WILL DEPEND ON THE VALUE OF YY.
   3. BEFORE WE TRY TO THINK A WAY TO TRAP THE CONDITION WHICH CAUSED THE
      PROBLEM, WE NEED TO KNOW THE FOLLOWING THINGS: (YOU CALLED THIS
      CONDITION AS "BREAK" CONDITION).
      ---WHAT KIND OF PACKET SENT BY X.25 CAUSED THIS PROBLEM? (FIRST,
         WHAT PACKETS HAD BEEN TRANSFERRED TO AND FROM THE X.25 I/F WHEN 
         THE PROBLEM OCCURRED?)
      ---WHAT CONDITION FORCED X.25 I/F TO SEND THIS PACKET?
      ---YOU CALL THE CONDITION AS "BREAK" CONDITION. DOES THE SUITATION
         WHICH CAUSED THE PROBLEM LOOKS LIKE THE SUITATION AS IN THE EXAMPLE
         DESCRIBED ABOVE?

REGARDS,
JAMES
 
