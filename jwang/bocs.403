:
:
: ESCALATION: 189787
: CC: niscnet 
: Upgraded from version 3.01 to 4.03 on May 26, 1988
: This is for version 4.03 xcom.\
:------------------------------------------------------------
: PATCH 044   CREATED BY J/WANG AT JUNE 6,85
: CAN BE USED FOR VER 2.02, 3.00, 3.01.
: PROBLEM : ASYNC JAPANESE LANGUAGE USE 8 BIT ASCII LIKE CHARACTER SET.
:           (THEY CALL IT AS JISCII). THE LEFTMOST BIT IS USED FOR OTHER
:           PURPSOE. THE X.25 SHOULD NOT TURN ON OR OFF THE PARITY BIT
:           OF THE DATAS WHICH COME FROM TERMINAL OR HOST. THE X.25 CODE 
:           WORKS FINE IF INPARITY SAVE OPTION IS ON. (DEFAULT IS ON FOR
:           SAVE OPTION). BUT, THERE ARE MANY MESSAGES GENERATED BY X.25
:           ITSELF SHCH AS 'PLEASE LOGIN:", 'CALL CONNECTED'..ETC.
:           WHEN X.25 OUTPUT THOSE MESSAGES, ONLY SOME MESSAGES HAVE BEEN
:           TURNED OFF THE PARITY BIT BEFORE THE MESSAGES ARE SENT OUT.
:           WHEN THE JISCII TERMINAL RECEIVES MESSAGES WITH PARITY
:           BIT ON, IT DOESN'T PROCESS THEM CORRECTLY.
: TASK    : TWO PIECES OF CODE 'OCS', 'BOCS' NEED TO BE MODIFIED TO TURN
:           OFF THE PARITY BIT BEFORE THE MESSAGES ARE PUT INTO ORING
:           OR IDBUF.

PATCH(850606,1500,JWANG,BOCS2,,6)
        J       PA1PTR,,
CONPATCH(PA1PTR,,10)
        AIS     R15,1
        LB      R0,,R15
        NHI     R0,7F           :USE 7 BITS ONLY
        J       BOCS2+6,,
CONPATCH(OCS+1E,,6)
        J       PA1PTR,,
CONPATCH(PA1PTR,,10)
        AIS     R3,1
        LB      R0,0,R3
        NHI     R0,7F           :TURN OFF PARITY BIT
        J       OCS+24,,
ENDPATCH(TURN OFF THE PARITY BIT OF THE MESSAGES GENERATED BY X.25)

