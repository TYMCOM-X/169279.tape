                                                               January 11, 1987







                            *   * ****  *      *** 
                            *   * *   * *     *   *
                            ***** *   * *     *    
                            *   * *   * *     *   *
                            *   * ****  *****  *** 

                            ***** *   *  ***  ***** *   * *****
                            *     **  * *   *   *   **  * *    
                *   *       ****  * * * *       *   * * * **** 
                *   * ***** *     *  ** *  **   *   *  ** *    
                 ***        ***** *   *  **** ***** *   * *****

                       *****       ****       ******   
                       *          *           *     *  
                       ****        ***        *     *  
                       *              *       *     *  
                       *    *     ****   *    ******  *

                                 HDLC u-Engine
                            FIELD SERVICE DOCUMENT


                               By:  TIM KOCHMANN




                            ***********************

                                    TYMNET
                          NATIONAL TECHNICAL SUPPORT
                               January 11, 1987



     ====================================================================
     |   Tymnet,  Inc.'s  proprietary  rights  are  included  in  the   |
     |   information disclosed herein.   The recipient,  by receiving   |
     |   this document,  agrees  that neither this  document nor  the   |
     |   information  disclosed  herein nor any part thereof shall be   |
     |   reproduced or transferred to  other  documents  or  used  or   |
     |   disclosed  to  others  for  manufacturing  or  for any other   |
     |   purpose except  as  specifically authorized  in  writing  by   |
     |   Tymnet, Inc.                                                   |
     ====================================================================




                                     HDLC u-Engine                     HDLC.FSD
                                                               January 11, 1987







                                   TABLE OF CONTENTS

        Section                                                            Page



        1.   INTRODUCTION                                                     1
          1.1   PURPOSE OF THE FIELD SERVICE GUIDE                            1
          1.2   OVERVIEW OF THE FIELD SERVICE GUIDE                           1


        2.   SYSTEM DESCRIPTION                                               3
          2.1   SYSTEM OVERVIEW                                               3
          2.2   CPU                                                           4
          2.3   MEMORY                                                        4
          2.4   I/O PROCESSOR                                                 4
          2.5   BLOCK DIAGRAM                                                 6


        3.   PHYSICAL DECRIPTION                                              7
          3.1   FRONT PANEL                                                   7
          3.2   FRONT PANEL DIAGRAM                                           7
          3.3   REAR PANEL                                                    8
          3.4   REAR PANEL DIAGRAM                                            8
          3.5   HDLC I/O BOARD LAYOUT                                         9
          3.6   CPU BOARD LAYOUT                                             10
          3.7   MEMORY BOARD LAYOUT                                          11


        4.   COMMUNICATION INTERFACE                                         12
          4.1   PORT CONFIGURATION                                           12
          4.2   INTERFACE SIGNALS                                            12
          4.3   INTERFACE STANDARD                                           12
          4.4   ASYNCHRONOUS PORTS                                           13
          4.5   SYNCHRONOUS PORTS                                            13
          4.6   MAXIMUM CABLE LENGTH                                         14


        5.   INSTALLATION                                                    15
          5.1   AC POWER                                                     15
          5.2   BBU - BATTERY BACKUP UNIT                                    16
          5.3   CONSOLE                                                      16
          5.4   BOARD STRAPPING                                              17
          5.5   CPU                                                          17
          5.6   MEMORY                                                       18
          5.7   HDLC I/O PROCESSOR                                           19
          5.8   DC VOLTAGE ADJUSTMENT                                        25


                                     HDLC u-Engine                     HDLC.FSD
                                                               January 11, 1987


        6.   MAINTENANCE HINTS                                               27
          6.1   GENERAL TROUBLESHOOTING                                      27
          6.2   SIO MB CHIP LEVEL TROUBLESHOOTING                            30
          6.3   HDLC MICRO PRODUCT LIST                                      40


        7.   MISCELLANEOUS INFORMATION                                       41
          7.1   RS-232 SIGNAL LOOPBACK METHODS                               41
          7.2   COMPONENT PART NUMBERS                                       42
          7.3   SAMPLE CONFIGURATION FILE                                    43


        8.   PERFORMANCE CAPABILITIES                                        46
          8.1   PERFORMANCE CAPABILITIES OVERVIEW ISIS                       46
          8.2   BENCHMARK  1 STANDALONE                                      47
          8.3   BENCHMARK  2 NODE CODE AND 2 X.25 SLOTS                      47
          8.4   BENCHMARK  2 NODE CODE AND 3 X.25 SLOTS                      49
          8.5   BENCHMARK  3 NODE CODE AND SDLC                              52
          8.6   BENCHMARK  4 NODE CODE PLUS X.25 AND SDLC                    53
          8.7   TEST-BED CONFIGURATION                                       54


































                                     HDLC u-Engine                     HDLC.FSD
        INTRODUCTION                                           January 11, 1987






                                   1 -  INTRODUCTION







                        1.1  PURPOSE OF THE FIELD SERVICE GUIDE


        The purpose of the HDLC u-Engine Field Service Guide is to  provide the
        necessary  information to  successfully  install and  operate  the HDLC
        micro  engine.  This  document outlines  the  installation proccedures,
        performance capabilities and  physical descriptions of the  elements of
        the HDLC micro engine.






                       1.2  OVERVIEW OF THE FIELD SERVICE GUIDE


        The HDLC u-Engine Field Service Guide is divided into seven sections.


        Section 1,  this introduction, provides  general information  about the
        scope and objectives of the Field Service Guide.


        Section 2, System  Description, provides a general  overall description
        of the individual components of the HDLC u-Enine.


        Section 3, Physical Description,  describes the physical detail  of the
        components of the HDLC u-Engine.


        Section 4, Communication  Interface, describes the  port configurations
        and interface signals and standards.


        Section 5,  Installation, describes the  steps necessary  to accurately
        install the HDLC u-Engine micro.




        1                            HDLC u-Engine                     HDLC.FSD
        INTRODUCTION                                           January 11, 1987


        Section  6, Maintenance  Hints, describes  troubleshooting  and general
        maintenance hints.


        Section 7, Miscellaneous Information, describes several relevant pieces
        of information pertaining to the HDLC u-Engine.


        Section 8, Performance  Capabilities, describes the performance  of the
        HDLC u-Engine under different simulated network loads.












































        2                            HDLC u-Engine                     HDLC.FSD
        SYSTEM DESCRIPTION                                     January 11, 1987






                                2 -  SYSTEM DESCRIPTION







                                 2.1  SYSTEM OVERVIEW


              The   HDLC  micro-engine   replaces  the   standard  micro-engine
        supporting  sync and  async modes,  with SIO  HDLC/SDLC  support.  This
        product consists  of the  same CPU used  in the  engine, 1  megabyte of
        memory,   and   an   intelligent   I/O   processor,   micro-code-driven
        specifically designed for data communications.


        HDLC micro  engine is  a high-performance,  micro-code-driven processor
        designed  specifically for  data  communications.  It  consists  of the
        ENGINE CPU, 1 megabyte of memory, and an intelligent I/O processor.

        The micro-code-driven  CPU utilizes 256  registers, each 32  bits wide,
        and supports special  instructions to facilitate the  implementation of
        TYMNET  communication   technology.   The   available  CPU   power  for
        applications is 20% less than the ENGINE.

        The micro-code-driven intelligent  I/O processor is based  on bit-slice
        microprocessor  technology  and  supports  all  TYMNET  SYNC   and  SIO
        ASYNC/HDLC communication protocols.

        4 asynchronous and 10 synchronous communication lines are  supported in
        full duplex or half duplex modes.  Transmission speeds for asynchronous
        lines are available from 75  to 9600 bps; and for synchronous  lines up
        to 19.2 Kbps.  Internal clocking is provided on all  asynchronous lines
        and is available  on synchronous lines at  speeds of 1200,  1600, 2400,
        4800, 9600, 14400, and 19200.  Interface signals conform to EIA RS-232-
        C interface standard.

        System  configuration  is  software  defined  and  controlled.   The 10
        synchronous  communication  ports  can  be  individually  configured to
        support bit, byte synchrnous, or TYMNET T201 protocol.

        HDLC micro-engine  is supplied  in an aluminum  desk top  micro cabinet
        complete with power supply and cooling fans.  The front  panel contains
        two status  indicators (RUN  and POWER ON)  for easy  identification of
        system operating status.



        3                            HDLC u-Engine                     HDLC.FSD
        SYSTEM DESCRIPTION                                     January 11, 1987


                                       2.2  CPU


             The  CPU  utilizes 256  registers,  each 32  bits  wide.   The CPU
        processing power  is approximately  80% of  the engine.   As this  is a
        micro-code-driven  machine this  80% will  vacilate dependent  upon the
        machine configuration and slot interface application  software assigned
        to the unit.  The internal data  path in the CPU is 32 bits  wide.  The
        external data path  to/from memory and the  I/O board is 16  bits wide.
        The custom HDLC CPU microcode is 64 bits wide, and is clocked  at 8MHz,
        therefore each  microcycle is  125 nanoseconds.  The  CPU board  is the
        functional equivalent of the engine CPU and ROM I/O boards.   The board
        includes the  connectors required  to drive  the front  panel RUN/POWER
        LED's and an optional front console.






                                      2.3  MEMORY


             The memory board is  the standard micro engine memory  board which
        is  the  functional equivalent  to  the engine  MacI  and Semiconductor
        memory boards.  The memory size may vary, dependent upon the number and
        size of memory I.C.s used, but the standard configuration will call for
        1024K bytes of memory available on the micro using 256K X 1 DRAMS.  The
        memory subsystem performs single-bit error detection via  parity across
        16-bit halfwords, but unlike the engine memory board, the  micro memory
        board contains no Error  Correction Circuitry.  It has  16 segmentation
        registers used for memory relocation and protection.  The  memory cycle
        time is  750 nanoseconds.  The  16-bit memory data  bus is  a tri-state
        bidirectional bus equivalent to the engines MS and MD busses.






                                  2.4  I/O PROCESSOR


             The micro-code-driven intelligent  I/O processor is based  on tri-
        state,  4-bit bipolar  2901 bit-sliced  microprocessor  technology, and
        supports all Tymnet Sync, Async, and HDLC communications protocols. The
        system configuration  is software  defined and  controlled.  Individual
        ports can be configured  to support bit-oriented, byte  synchronous, or
        Tymnet T201  protocols.  The  I/O board combines  the functions  of the
        engine multifunction card, the PCSIO motherboard, and the SIO daaughter
        cards although  there is no  DMA hardware on  the HDLC I/O  board.  All
        main memory accesses are performed by issuing requests via the  MUX bus


        4                            HDLC u-Engine                     HDLC.FSD
        SYSTEM DESCRIPTION                                     January 11, 1987


        to  the CPU  which  performs the  read/write operations  into  the main
        memory.  The data  path within the processor  section is 16  bits wide.
        The processor interfaces  the 7 Z80-SIO Controllers  via an 8  bit wide
        tri-state bidirectional bus.   The I/O board microcode,  in conjunction
        with the CPU microcode, provides  the facility to emulate the  SYNC I/O
        board also.  The board is  strapped to provide a 4Mhz  clock, therefore
        each microcycle is 250 nanoseconds.






                                  2.5  BLOCK DIAGRAM








































        5                            HDLC u-Engine                     HDLC.FSD
        SYSTEM DESCRIPTION                                     January 11, 1987




        ____________________          ____________________
        |                  |          |                  |
        |                  |--------->|                  |
        |       MAC        |--------->|  1024K BYTES MEM |
        |                  |          |                  |
        |                  |__________|                  |
        |                  |__________|                  |
        --------------------          --------------------
         | | PMA001-181 | | MD001-151
         | |            | |
         | |            | |
        --------------------          --------------------
        |                  |          |                  |
        |                  |          |                  |
        |       CPU        |----------|     ROM I/O      |
        |                  |----------|                  |
        |                  |  B-BUS   |                  |
        |                  |          |                  |
        --------------------          --------------------
                                              | |
         ___________________ D000-D015________| |
         | ___________________________________  |
         | |                                  | |
         | |   ----------------       --------------------     ____________
         | |   |  LSU/PFT/WDT |       |                  |_____|          |
         | |   |   3600 BAUD  |<----->|   MUX to D-BUS   |_____| TTY PORT |
         | |   |      INT     |       |                  |     |          |
         | |   ----------------       --------------------     ------------
         | |                          ____________________     ____________
         | |                          |                  |_____|          |
         |  --------------------------|   MUX / B-BUS    |_____|   SIO    |
         |----------------------------|    INTERFACE     |     |  PORTS   |
                                      |                  |     |  0x-Dx   |
                                      --------------------     ------------ 
                                                                    ^
                                                                    |
                                                                    |
                                                               ____________
                                                               |          |
                                                               | I/O BAUD |
                                                               |   RATE   |
                                                               |  CLOCKS  |
                                                               |          |
                                                               ------------

                            HDLC MICRO BLOCK DIAGRAM






        6                            HDLC u-Engine                     HDLC.FSD
        PHYSICAL DECRIPTION                                    January 11, 1987






                               3 -  PHYSICAL DECRIPTION







                                   3.1  FRONT PANEL


        Two s  indicators (RUN  and POWER  ON) are  provided on  the front
        panel.  The Red LED is lit whenever +5VDC is being supplied to  the CPU
        board.  The Green LED is  connected in a similar manner as  the Console
        Active LED on the Tymnet  mini engine.  This LED will blink  at varying
        rates, dependent upon system software accesses to the console.  The RUN
        light knows nothing  of whether or not  a console is present,  and will
        blink even if no front console is installed.






                               3.2  FRONT PANEL DIAGRAM


        _____________________________________________________________________
        |                                                                   |
        |                                           [POWER]                 |
        |                                                                   |
        |                                           [ RUN ]                 |
        |                                                                   |
        |                                                                   |
        |                                                                   |
        |                                                                   |
        |                                                                   |
        |                                                                   |
        |                                                                   |
        |                                                                   |
        ---------------------------------------------------------------------









        7                            HDLC u-Engine                     HDLC.FSD
        PHYSICAL DECRIPTION                                    January 11, 1987


                                    3.3  REAR PANEL


        The rear panel houses an AC ON/OFF switch, an IEC line  cord connector,
        a front  console power  cable connector, a  front console  signal cable
        connector, a battery backup power cable connector, the boot switch, and
        the connectors required to interface with the various ports on  the I/O
        board.  The I/O port connectors are:


             o  One (1) 25-pin female suminiature-D connector for the TTY local
                port.

             o  Two (2)  25-pin  female subminiature-D connectors for  SIO/SYNC
                ports 8 and 9.

             o  Two (2)  37-pin  male subminiature-D  connectors  for  SIO/SYNC
                ports 0 through 7.

             o  One (1)  37-pin  male subminiature-D  connector  for  SIO/ASYNC
                ports 11 through 14.






                                3.4  REAR PANEL DIAGRAM


        _____________________________________________________________________
        |                      [CONSOLE SIGNAL CONNECTOR]                   |
        |     [CONSOLE PWR]                                                 |
        |                                                                   |
        | [SYNC/SIO PORTS 4-7] [SYNC/SIO PORT 8]        [TTY PORT] [BBU PWR]|
        | [SYNC/SIO PORTS 0-3] [SYNC/SIO PORT 9]                            |
        |                                                 <FUSE>            |
        |  _________  ________                                              |
        |  |AC PWR |  |ON/OFF|   [SIO/ASYNC PORTS 10-14]                    |
        |  ---------  --------                            <BOOT>            |
        |                                                                   |
        |                                                                   |
        |                                                                   |
        ---------------------------------------------------------------------










        8                            HDLC u-Engine                     HDLC.FSD
        PHYSICAL DECRIPTION                                    January 11, 1987


                              3.5  HDLC I/O BOARD LAYOUT


                                    ASS #470254-001 REV X
        __________________________________________________
        |                                                |
        |                            P4               P1 |
        |                            [POWER CONNECTORS]  |
        |                                                |_____________________
        |                                     B A E2      C             R6    |
        |                                                 |E7      [ 5K POT ] |
        |                                              A  B                   |
        |                                                                     |
        |                                                                     |
        |KJHGFEDCBA                                      DS2                  |
        |||||||||||E4                        [ MICROCODE PARITY LED ]         |
        |WVUTSRPNML                                                           |
        |[ ASYNC BAUD ]                                                       |
        |KJHGFEDCBA                                                           |
        |||||||||||E5                                                         |
        |WVUTSRPNML                                                           |
        |                                                                     |
        |  SW10  SW9                                                          |
        |                                                                     |
        |SW11          [ 40-PIN ASYNC CONNECTOR ] P5                          |
        |SW12                 PORTS 11-14                                     |
        |                                                                     |
        |SW13          [ 40-PIN SYNC  CONNECTOR ] P6                          |
        |SW14                 PORTS  4-7    SW5  SW1                          |
        |[ 26-PIN CONNECTOR ] P8 SYNC                                         |
        |[ 26-PIN CONNECTOR ] P9 SYNC                                         |
        |SW15                                                                 |
        |SW16                               SW6  SW2                          |
        |                                                                     |
        |                                                                     |
        |SW17          [ 40-PIN SYNC  CONNECTOR ] P7            DS1           |
        |SW18             PORTS  0-3    SW7  SW3        [ SYS CLR LED ]       |
        |                                           A   10W         11W       |
        |SW19                                       | ________   ________     |
        |SW20                           SW8  SW4  C-B |87654321||87654321|    |
        |                                         E3   --------   --------    |
        |                                           [ WDT/PFT/MFPT SWITCHES ] |
        |                                                                     |
        |                                                       C-B A E1      |
        |                                           [ 26-PIN TTY CONNECTOR ]P2|
        |              A B                                                    |
        |              |                                                      |
        |__________     C D                                                   |
                   |                                                          |
                   |                                                          |
                   |                          [ 50-PIN CPU RIBBON CONNECTOR ] |
                   |__________________________________________________________|


        9                            HDLC u-Engine                     HDLC.FSD
        PHYSICAL DECRIPTION                                    January 11, 1987


                                 3.6  CPU BOARD LAYOUT


                                    ASS #470172-002 REV X
        __________________________________________________
        | O                       [ POWER CONNECTOR ] J5 |
        | ^                                              |
        |(GROMMET REQUIRED)                              |
        |                                                |_____________________
        |                                                 . . . .           O |
        |                                                 E4E3E2E1          ^ |
        |                                                   (GROMMET REQUIRED)|
        |                                                                     |
        |                                                                     |
        |                                                                     |
        |J6                                                                   |
        | _                                                                   |
        || | [ POWER/RUN CONNECTOR ]                                          |
        || |                                                                  |
        | -            CR1                                                    |
        |   [ MICROCODE BRANCH LED ]                                          |
        |                                                                     |
        |                                                                     |
        |                                                                     |
        |                                                                     |
        |                                                                     |
        |                                                                     |
        |                                     O                               |
        |                                                                     |
        |                                                                     |
        |                                                                     |
        |                                                                     |
        |                                                                     |
        |                         J4                                          |
        |                     __________                                      |
        |                     |        |                                      |
        |                     ----------                                      |
        |              [ 26-PIN CONSOLE CONECTER ]                            |
        |                                                                     |
        |                                                                     |
        |                                                                     |
        |                                                                     |
        |                                                                     |
        |                                                                     |
        |                                                                     |
        |                                                                     |
        |                                                                     |
        |                                                                     |
        |                                                                     |
        |                                                                     |
        |           J3                   J2                    J1             |
        | O[50-PIN I/O CONNECTOR][50-PIN MEM CONNECTOR][50-PIN MEM CONNECTOR]O|
        |_____________________________________________________________________|

        10                           HDLC u-Engine                     HDLC.FSD
        PHYSICAL DECRIPTION                                    January 11, 1987


                               3.7  MEMORY BOARD LAYOUT


                                    ASS #470173-001 REV X
        __________________________________________________
        | O                                              |
        |                                                |
        |                                          .     |
        |                              . .W3       .W2   |_____________________
        |                                                    . .W1          O |
        |                                                                     |
        |                              . .W4                                  |
        |                                                                     |
        |                                                                     |
        |                                                                     |
        |                              . .W5                                  |
        |                                                                     |
        |                              . .W6                                  |
        |                                                                     |
        |                                                                     |
        |                              . .W7                                  |
        |                 .                                                   |
        |                 .W19                                                |
        |                              . .W8  .   . . W10                     |
        |                                     .W9   .                         |
        |                                           .W11                      |
        |                                                                     |
        |                                               .     .               |
        |                                               .W12  .W13            |
        |                                                                     |
        |                                                                     |
        |                                                     . .W14          |
        |                                                                     |
        |                                                                     |
        |                                                     . .W15          |
        |                                                                     |
        |                                                                     |
        |                                                                     |
        |                                                                     |
        |                                     .   .   .                       |
        |                                     .W18.W17.W16                    |
        |                                                                     |
        |                                 [ MEMORY SIZE SELECT ]              |
        |                                                                     |
        |                                                                     |
        |                                                                     |
        |                                                                     |
        |                                                                     |
        |                                                                     |
        |                               J2                     J1             |
        |                                                                     |
        | O                      [50-PIN CPU CONNECTOR][50-PIN CPU CONNECTOR]O|
        |_____________________________________________________________________|

        11                           HDLC u-Engine                     HDLC.FSD
        COMMUNICATION INTERFACE                                January 11, 1987






                             4 -  COMMUNICATION INTERFACE


        The I/O  processor provides 4  asynchronous communication lines  and 10
        synchronous communication lines for a total of 14 communication lines.






                                4.1  PORT CONFIGURATION


        The hardware configures ports 10 through 13 for  asynchronous operation
        and ports 0 through 9 for synchronous operation.

        The  synchronous ports  0 through  9 can  be configured  by  the system
        software to support bit synchronous or byte synchronous or  TYMNET T201
        communications protocol.






                                4.2  INTERFACE SIGNALS


        Handshaking signals (DTR, DSR, RTS,  and CTS) are available for  all 14
        ports  and  can  be monitored  or  controlled  by  application programs
        running under ISIS.






                                4.3  INTERFACE STANDARD


        Interface signals on all 14 communication lines conform to EIA RS-232-C
        interface standard.







        12                           HDLC u-Engine                     HDLC.FSD
        COMMUNICATION INTERFACE                                January 11, 1987


                                4.4  ASYNCHRONOUS PORTS


        Ports 10 through 13 are dedicated for asynchronous operation.

        Two  jumpers  are  provided  for  selecting  the  baud  rate  of  the 4
        asynchronous ports.  One jumper selects the baud rate for ports  10 and
        11 whereas the other jumper selects the baud rate for ports 12  and 13.
        Thus, ports 10 and 11  must operate at the same baud  rate.  Similarly,
        ports 12 and 13 must operate at the same baud rate.

        The available baud rates in bps are: 75, 110, 135, 150, 300, 600, 1200,
        2400, 4800, and 9600.  (CAUTION: Total throughput of HDLC  micro engine
        is limited as discussed in Section 8: Performance Capabilities.)






                                4.5  SYNCHRONOUS PORTS


        Ports 0 through 9 are dedicated for synchronous operation.

        Each  of  the  10  synchronous  channels  is  capable  of  providing an
        independent  transmit and  receive  clock with  switch  selectable baud
        rates.  External clocks can also be used with any of the 10 synchronous
        ports.

        Available baud rates in  bps from the internal switch  selectable clock
        source are: 1200, 1600, 2400, 4800, 9600, 14400, and  19200.  (CAUTION:
        Total  throughput  of HDLC  micro  engine is  limited  as  discussed in
        Section 8: Performance Capabilities.)




















        13                           HDLC u-Engine                     HDLC.FSD
        COMMUNICATION INTERFACE                                January 11, 1987


                               4.6  MAXIMUM CABLE LENGTH


        Maximum cable length specifications for the various baud rates are:

                                     Guaranteed Maximum
                                    Length of Cable (ft)
                  Data Rate            (40 pF/ft 6 mA)

                    19,200                    38.3
                     9,600                    50
                     7,200                    50
                     4,800                    50
                     3,600                    50
                     2,400                    50
                     1,200                    50
                       300                    50
                       150                    50
                       135                    50
                       110                    50
                        75                    50

        To insure proper  operation, cable length  must not exceed  the maximum
        length listed above.






























        14                           HDLC u-Engine                     HDLC.FSD
        INSTALLATION                                           January 11, 1987






                                   5 -  INSTALLATION







                                     5.1  AC POWER


        The AC  power connector  utilizes the  industry standard  IEC connector
        configuration.  This allows for interchangeable line  cords simplifying
        U.S.A. and non-U.S.A. installations.

        The HDLC Micro-engine  can use either  115VAC or 230VAC  (nominal), 47-
        63Hz,  single-phase input  power.  Conversion  of an  HDLC Micro-engine
        wired for  one input  voltage to  the other  requires the  following be
        performed:

             1.  DO NOT  CHANGE  THE FUSE VALUE!   The +5VDC and +/-12VDC power
                 suppies  have their  own fuses  to protect the supplies.   The
                 remaining in-line fuse  is designed  to protect  the fans  and
                 internal wiring from catastrophic failure.

             2.  CHANGE THE FANS!   Failure to install the appropriate fans for
                 the line input  voltage will result in the destruction  of the
                 fans.  Using inappropriate fans can result in either increased
                 electrical  noise or  overheating from the  reduced airflow in
                 the machine.

             3.  USE THE PROPER INPUT TERMINAL ON THE +5VDC  POWER SUPPLY.  The
                 +5VDC supply has labelled  input terminals for  115VAC and 230
                 VAC  line voltage.   Using   the   inappropriate terminal  can
                 destroy the supply AND the circuit boards.

             4.  MOVE THE STRAPS ON THE AC INPUT OF THE +/- 12VDC POWER SUPPLY.
                 Failure  to  strap  the  supply properly  can  result  in  the
                 destruction of the supply and the HDLC I/O board.

                   a.  115VAC operation:  Jumper pin 1 to pin 3 then jumper pin
                       2 to pin 4.   Jumper J1 must be installed.  Pin 2 to pin
                       3 must be open.

                   b.  230VAC operation:   Jumper pin  2 to  pin 3.   Remove J1
                       jumper.  Remove any jumpers from pin 1 to pin 3 and  pin
                       2 to pin 4.



        15                           HDLC u-Engine                     HDLC.FSD
        INSTALLATION                                           January 11, 1987


                            5.2  BBU - BATTERY BACKUP UNIT


        A rear panel connector is provided for the optonal battery backup which
        provides power to the memory  board for data retention in the  event of
        an AC power failure.

             1.  NON-BACKUP TO BACKUP CONFIGURATION.
                 
                 a.  Remove  the  memory  board  (430173-001)  from  the   HDLC
                     Microengine.
                 b.  Remove the following jumpers:  W2, W3, W4, W5, W6, W7, W8,
                     W9, W10, W12, W13, W14, W15.
                 c.  Install the  160129-001  cable assembly between the memory
                     board and the rear panel.

             WARNING:  Failure to remove all of the appropriate jumpers on the
                        memory  board  may  result  in  the  destruction of the
                        battery backup unit and/or the HDLC Microengine.


             2.  BACKUP TO NON-BACKUP CONFIGURATION.

                 a.  Remove  the  memory  board  (430173-001)  from  the   HDLC
                     Microengine.
                 b.  Install jumpers removed in (b) above section.
                 c.  Remove the 160129-001 cable assembly installed in item  c.
                     of the above section.

             WARNING:  Failure  to  remove  the  160129-001  cable assembly can
                       result in damage  to the  battery backup unit and/or the
                       HDLC  Microengine if a BBU is left connected to the rear
                       panel.






                                     5.3  CONSOLE


        The rear panel provides exactly  the same power and I/O  connectors for
        Front Console installation as the standard Microengine.  If R7 has been
        removed  from the  CPU board  as  per ECO  #85-524 the  Console  may be
        installed and removed while the machine is running.








        16                           HDLC u-Engine                     HDLC.FSD
        INSTALLATION                                           January 11, 1987


                                 5.4  BOARD STRAPPING


        The CPU, MEMORY, and HDLC I/O  boards have a number of jumpers  used to
        configure  operating parameters.   The following  sections  outline the
        parameter strapping for the HDLC micro-engine boards.






                                       5.5  CPU


        There is one  LED mounted on  the CPU board.  This  LED is "ON"  when a
        microcode branch is executed.  The connector for the front  panel POWER
        and RUN LEDs is located at J6 on the CPU board.  The RED LED  should be
        "ON" whenever +5VDC is being supplied to the CPU board.  The  GREEN LED
        should  be  "ON"  whenever the  system  software  accesses  the console
        (independent of the console's presence or absence).  This LED may blink
        at varying rates.

        Switch settings on the CPU board are as follows:

           E3  [Normal/Test Clock Select]

               Jumpering  to  E4   (ground)  disconnects  the   32MHz  crystal-
               oscillator from the  clock generation circuitry.  This  allows a
               test clock to be supplied to the CPU via E2  for single-stepping
               and debugging operations.  E3 is normally open.


           E1  [Synchronized CPU Halt]

               When pulled up to a TTL HIGH the clock generation circuitry will
               "freeze" in an  orderly fashion.  This  input is intended  to be
               used with external microcode parity checking hardware  and other
               test equipment. E1 is normally open.


        The CPU board provides the interfacing hardware required to  connect an
        Engine console cable directly  to the board.  The connector  is located
        at J4 on the CPU board.  The interface connector is extended via  a 29-
        conductor ribbon cable to  a ribbon header accessable through  the rear
        panel.   This  permits  a   front  console  to  be   installed  without
        disassembing  the HDLC  Microengine.  The  CPU board  does  NOT provide
        power for the console.

        The interrupt  structure is similar  to the Engine.   Interrupt sources
        are:  EPDN (early power down), CATN0 (console attention), PERR0 (memory
        parity error), MACINT0 (relocation fault), and the I/O interrupts (SYN0
        for input data).

        17                           HDLC u-Engine                     HDLC.FSD
        INSTALLATION                                           January 11, 1987


                                      5.6  MEMORY


        Switch settings on the memory board are as follows:

           W1  [DISABLE REFRESH TIMER]

               When installed the  on-board refresh circuitry will  not produce
               the RFSHREQ1 signal.  Normally W1 is open.


           W11 [RAM TYPE]

               When installed the address multiplexing circuitry  presumes 256K
               X 1 Dynamic  RAMs are installed (pin  1 = address bit  9).  When
               open pin  1 is  pulled HIGH assuming  64K X  1 Dynamic  RAMs are
               installed.  150ns  access time  devices must  be used  in either
               case.



           W16 [MEMORY SIZE ADDRESS SELECT].
           W17 [MEMORY SIZE ADDRESS SELECT].
           W18 [MEMORY SIZE ADDRESS SELECT].

                 W18     W17     W16     MEMORY SIZE
                 ---     ---     ---     ------ ----

                  I       I       I      1 Megabyte (256K RAMs only)
                  I       I       O      Not allowed
                  I       O       I      Not allowed
                  I       O       O      Not allowed
                  O       I       I      512 Kilobyte (256K or 64K RAMs)
                  O       I       O      384 Kilobyte (64K RAMs only)
                  O       O       I      256 Kilobyte (64K RAMs only)
                  O       O       O      128 Kilobyte (64K RAMs only)

                  I = Installed,  O = Open



           W19 [STATUS BIT 5 CONTROL]

               When  installed bit  5  of the  MAC status  register  will equal
               logical 0.   When open  bit 5  of the  MAC status  register will
               equal logical 1.  Normally W19 is open.


        There is a snap-action, momentary-contact switch at location S1  on the
        memory  board.   When  pressed this  switch  initiates  an EPDN/SYSCLR0
        sequence (INIT).



        18                           HDLC u-Engine                     HDLC.FSD
        INSTALLATION                                           January 11, 1987


        The MAC  circuitry is contained  on the memory  board and  receives the
        unrelocated address of the memory  locations to be acted upon  from the
        CPUs Processor  Memory Address  Register via the  PMA bus.   The memory
        communicates via the MA (address) and MD (data) busses.  The MD  bus is
        a 16-bit tri-state, bi-directional  data bus with drivers at  both ends
        of the  bus.  The MAC  uses only one  set of 16  segmentation registers
        (93422  SRAMs) equivalent  to the  MAC I  on the  Engine  requiring the
        Zeitel equate statement in the machine Tymfile be set to 0.






                                5.7  HDLC I/O PROCESSOR


        The switch settings on the HDLC I/O processor are as follows:

           E1  [3600/14400 INTERRUPT SELECTOR]

               The  interruptor strapping  selects the  frequency of  the ATN00
               interrupt signal to the CPU.  This interrupt provides the timing
               for the CPU to drive a real-time system clock and the timing for
               the software driving  the WDT (2.1  secs).  The 14411  baud rate
               generator  at location  11V produces  a 28800Hz  clock  which is
               divided by 74193  counter at location  11AB to produce  the 3600
               and 14400Hz clocks.  The 3.6K or 14.4KHz clock is input to a 0-5
               ripple  counter at  location 10Y(7492).   The counter  output is
               sent  onto the  IB bus  via a  74240 at  location 6Y.   ATN00 is
               driven  active-LOW  during each  3600/14400  cycle.   When ATN00
               equals logical "0"  the counter ouputs  are written onto  the IB
               bus(74240  output  enabled).   The  CPU  responds  to  the ATN00
               interrupt by driving  RACK00 active-LOW enabling the  outputs of
               the data buffers at locations 6X and 6Y(74244,74240) and driving
               the counter output from the IB bus onto the MUX bus available to
               the CPU.  RACK00 drives ATN70-75 active -HIGH which  drives SYN0
               active-LOW (the  I/Os acknowledgement to  the CPU of  receipt of
               SYN0 from  the CPU).   The CPU responds  to SYN0  driving RACK00
               HIGH  (inactive)  which  turns off  ATN70-75  and  ATN00.  ATN00
               drives SYN0 to logical "1" (inactive) completing  the 3600/14400
               baud interrupter cycle.  Normally E1 is strapped  C-B (jumpered)
               with A open for 3600 interrupts.  The BAUDR equate  statement in
               the machine Tymfile should be set to 0.


           E2  [POWER FAIL VOLTAGE TRIP VARIANCE]

               When installed the reference voltage input to the PFT comparator
               is lowered 0.6VDC allowing voltage margining on the +5VDC supply
               with less chance of generating a power-fail situation.  Normally
               E2 is open.


        19                           HDLC u-Engine                     HDLC.FSD
        INSTALLATION                                           January 11, 1987


           E3  [BOOT SWITCH CONNECTOR]

               A three-postion toggle switch on the rear panel connects  to the
               I/O board at this  location.  The BLACK (ground) wire  should go
               to the B post.  The  RED wire from the temporary enable  side of
               the switch  goes to  the C post.   The other  RED wire  from the
               enable side of the switch goes to the A post.  Leaving  the Boot
               switch  in  the enabled  position  closes the  circuit  from B-A
               enabling  the  WDT the  same  as the  switch  located  at 10W-4.
               Throwing the Boot switch  to the temporary enable  position will
               momentarily  close the  circuit from  B-C clocking  the  7474 at
               location  4Y resulting  in a  system reset  and sending  the LSU
               device address (05) to the CPU.  The bootstrap routine is stored
               in  the LSU  Prom  at location  6Z (version  8).   The bootstrap
               routine is loaded into the highest available plane of  RAM.  The
               bootstrap is  initially loaded into  low RAM  addresses 700-FC3.
               The amount of memory is determined by decrementing  the contents
               of  RAM  at successfully  lower  64K blocks  until  a successful
               memory access is detected.  After the boot is relocated in RAM a
               non-destructive  write  is issued  to  all memory.   If  a front
               console is  installed the display  will read "FF100  BA5E".  The
               bootstrap allows the machine to accept SYNC, SIO  downline loads
               and local TTY loads.  Tape, 10MB Disk and MSC1400 Disk loads are
               not possible.  Downline loads may be clocked from 1200 to 19200.
               For either SYNC or SIO loads data is bufferred and scanned for a
               3232x pattern  and checksummed.   If no data  is received  in 60
               seconds  the  bootstrap reinitializes  the  machine  and resumes
               scanning  all  SIO/SYNC  ports.   Resets  are  issued  to device
               addresses 80-90x inclusive.

               NOTE:  3270 bisync controllers may be connected  as SYNC(bisync)
               lines during downline loading and as they constantly  transmit a
               3232x pattern they  should cause no  problem as the  machine has
               already selected the previous 3232x pattern as the load.


                DOWNLINE LOAD RECORD FORMAT:

                    3232  tt  0aaaaa  nn...nn  vvvv dddd
                    
                    where
                        tt = Record type
                                00    = Jump to address contained in the record
                                01-38 = Number of bytes to be  loaded into  RAM
                                80    = Dump Command.  Dump 38X bytes from  RAM









        20                           HDLC u-Engine                     HDLC.FSD
        INSTALLATION                                           January 11, 1987



                        0aaaa = Address to Read/Write or Jump to.

                                01-38 = Number of bytes to be  loaded into  RAM

                        nn...nn = If  tt  is NOT 38X  then nnnn = data bytes in
                                  load record.  
                                  00-7F = Data bytes stored in RAM
                                  80-85 = Data  bytes  following 80X  is stored
                                          into RAM.  
                                  84xx  = xx bytes of 00 are stored into RAM
                                  85xx  = bytes of FF are stored into RAM
                                  86-FF = 00-7F.


                        vvvv = Vertical checksum (record type + address field +
                               38X data bytes).


                        dddd = Diagonal checksum (record type + address field +
                               vertical checksum).


                VERTICAL CHECKSUM ALGORITHM

                        o  Load 0 into Accumulator
                        o  Get 1/2 word of Data
                        o  XOR Data with Accumulator
                        o  Jump


                HORIZONTAL CHECKSUM ALGORITHM

                        o  Load 0
                        o  Get 1/2 word of Data
                        o  Rotate 16-bit Accumulator left
                             (High order-bit ==> Low order-bit)
                        o  XOR Data with Accumulator
                        o  Jump




           E4-E5  [AYSYNCHRONOUS CHANNEL BAUD RATE SELECT]

               Channels 10 - 13 are  divided into two pairs of  channels driven
               by a Z80-SIO/2 controller with a T609 custom SIO support device.
               Channels 10 - 13 are configured for RS232C operation.  Baud rate
               timing is provided by a 14411 baud rate generator.  Each pair of
               async channels  may be  strapped for one  of the  available baud
               rates by terminating  the asynchronous BR  bus with a  jumper to
               one of the outputs of  the 14411.  The output of the  jumper pad


        21                           HDLC u-Engine                     HDLC.FSD
        INSTALLATION                                           January 11, 1987


               for E4 is tied to both the transmit and receive clock  inputs of
               the Z80-SIO/2 driving channels 10 - 11(location 4A).  The output
               of  the jumper  pad for  E5  is tied  to both  the  transmit and
               receive clock inputs of the Z80-SIO/2 driving channels 12 - 13.

         
                NOTE: Channel 10 baud rate will always EQUAL channel 11.
                      Channel 12 baud rate will always EQUAL channel 13.

                ASYNCHRONOUS DESIGNATOR ADDRESSING
                      
                CHANNELS 10-11  CHANNELS 12-13  BAUD RATE
                --------------  --------------  ---------

                  E4A to E4L      E5A to E5L      9600
                  E4B to E4M      E5B to E5M      4800
                  E4C to E4N      E5C to E5N      2400
                  E4D to E4P      E5D to E5P      1200
                  E4E to E4R      E5E to E5R       600
                  E4F to E4S      E5F to E5S       300
                  E4G to E4T      E5G to E5T       150
                  E4H to E4U      E5H to E5U       135
                  E4J to E4V      E5J to E5V       110
                  E4K to E4W      E5K to E5W        75



           E6  [BAUD RATE MULTIPLIER]

               On  board timing  is available  for the  Z80-SIO/2 and  the T609
               support devices  for I/O data  timing if required.   A 1.8432MHz
               crystal  oscillator  drives  a  14411  baud  rate  generator (at
               location  2W).   The  14411  divides  the  oscillator  frequency
               providing seven  continuous frequencies output  on the  BR (baud
               rate) bus  (signals BR1, BR2,  BR3,...  BR7).  The  frequency of
               the  baud rate  generater can  be multiplied  by one  of several
               values by strapping the jumper pad at E6.  Each SYNC/SIO channel
               has a 74151 data selector in parallel to lines BR1 -  BR7.  Each
               data  selector  has its  three  input select  pins  tied  to the
               outputs of  rotary switches.   Switch settings 1  - 7  are valid
               settings.  0, 8, and 9 are unused.


                E6 BAUD RATE STRAP OPTIONS

                     Jumper Options         Multiplier
                     ---------------        -----------

                1.   A to C + B to D        X1  (UNUSED)
                2.   A open + B to D        X8  (UNUSED)
                3.   A to C + B open        X16 (USED)
                4.   A open + B open        X64 (UNUSED)


        22                           HDLC u-Engine                     HDLC.FSD
        INSTALLATION                                           January 11, 1987


                   Normally option  3 is selected with A jumped to C and  B and
               D open.


           E7  [4MHz/8MHz 2XS CLOCK]

               The primary source of all timing signals on the I/O board is the
               8.064MHz crystal oscillator  (location Y1).  The 8MHz  signal is
               divided by  2 at location  7A (7474) to  produce the  4MHz CLOCK
               signal  and  its  complement  ECLOCK.   A  third  timing  signal
               (2XSCLOCK) is derived from the buffered 8MHz signal by jumpering
               E7 A to B or the buffered 4MHz signal CLOCK by jumpering E7 B to
               C.  2XSCLOCK is further  divided through a 74163  synchronous 4-
               bit counter (location  9N) to produce  the logic timing  for the
               Z80 controllers  and the T609  support devices.  Normally  E7 is
               jumpered from B to C.


           SW1-SW10  [BAUD RATE SELECT SWITCHES]

               The 10 rotary  switches on the board  are the switches  with the
               outputs tied  to the 74151  multiplexers for selecting  the baud
               rates  for  channels  0  -  9  I/O  data  timing.    Unlike  the
               asynchronous channels 10 -  13 whose baud rates are  selected in
               pairs,  each  SIO/SYNC  channel   (channels  A  or  B)   may  be
               individually selected.  I/O  data timing may either  be provided
               externally (from modems, clock drivers or a neighboring machine)
               or  internally utilizing  the on-board  clocks. If  the on-board
               clocks are to be used one of the seven possible frequencies must
               be selected for the channel by adjusting the  appropriate rotary
               switch.


           SW11-SW20  [INTERNAL/EXTERNAL CLOCK SELECT]

               The 10  switches on  the transmit and  receive lines  (TCA, TCB,
               RCA, RCB) select the  on-board clocks or external  clock sources
               for each channel.   When any of  these switches are  thrown "ON"
               (closed)  towards the  rear panel  of the  HDLC  Microengine the
               timing provided by  the board's BR  bus will be  utilized.  When
               the switches  are thrown  "OFF" (open)  external clocks  will be
               required.  In either case  both the transmit and  receive clocks
               will be provided from the same source. Clocks on unused channels
               should be turned "OFF" until such time as they may be required.










        23                           HDLC u-Engine                     HDLC.FSD
        INSTALLATION                                           January 11, 1987



                  BAUD RATE and INTERNAL/EXTERNAL SWITCH SELECTION

                  Channel     Baud Rate Switch     Int/Ext Switch
                  -------     ----------------     --------------

                    0              SW8                 SW20
                    1              SW4                 SW19
                    2              SW7                 SW18
                    3              SW3                 SW17
                    4              SW6                 SW16
                    5              SW2                 SW15
                    6              SW5                 SW14
                    7              SW1                 SW13
                    8              SW10                SW12
                    9              SW90                SW11


                  BAUD RATE SWITCH SELECTION

                  Switch Selection     Baud Rate
                  ----------------     ---------

                        1               1600
                        2               2400
                        3               4800
                        4               9600
                        5              14400
                        6              19200
                        7              28800 (unused)


               NOTE: Baud rate determination presumes a 14411 multiplier output
               of X16.

               As this is  a microcode driven  I/O processor all  data transmit
               and receive operations are controlled by the routines  stored in
               the PROMs.  Control signals  IORQ, RD/WT, C/D and  STATUS evoked
               by the  firmware and tied  to the Z80-SIO/2s  and the  T609s are
               used to handle all data transfers.  All flagging, required modem
               signalling and modem status monitoring signalling is  handled by
               the Z80s.  Serial data out and modem control signals  are output
               from the Z80s  to 1488 line driver  inputs and the  1488s output
               the  RS-232C  signals  (NRZ)  to  the  external  I/O connectors.
               Receive  data and  modem signals  are received  on the  same I/O
               external connectors and input to the T609 support  devices.  The
               serial data received is converted to parallel and clocked to the
               input sector over the bidirectional, tri-state S0 - S7 (SIO) bus
               with any extra bits and flags stripped off.


           10W-11W  [MULTIFUNCTION LOGIC ENABLE DIP SWITCHES]


        24                           HDLC u-Engine                     HDLC.FSD
        INSTALLATION                                           January 11, 1987


               The TTY port options and Multifunction option selected.


                  Dip Switch Selections
                  10W SELECT                    11W SELECT
                  ----------                    ----------

                  1 = 9600                      1 = 4800
                  2 = 110                       2 = 2400
                  3 = PFD                       3 = 1200
                  4 = WDT                       4 =  600
                  5 = 3600INT                   5 =  300
                  6 = TTY DTR                   6 =  150
                  7 = UNUSED                    7 =   75
                  8 = UNUSED                    8 =  135



           R6  [POWER FAIL DETECT THRESHOLD POTENTIOMETER]

               Raises or lowers the powerfail threshold voltage margin.  Easily
               accessible on  the I/O  board.  It is  unnecessary to  jumper E2
               when  adjusting  the threshold.   Rotating  R6 COUNTER-CLOCKWISE
               raises the threshold.  It should  be set to trip at  not greater
               than 4.8VDC.   The PFT detector  logic originates  the powerfail
               signal  when  any of  the  power supply  voltages  degrade below
               preset  levels.   Signal  PFTD0  is  output  to  the  CPU  and a
               powerfail recovery routine is attempted (system boot).  An open-
               collector  active-HIGH signal  is provided  by the  +5VDC supply
               used  to  trigger  the  power-down  sequence   (approximately  2
               milliseconds warning).






                              5.8  DC VOLTAGE ADJUSTMENT


        I.  +5VDC ADJUSTMENT


           The following are the steps necessary to adjust the +5V DC power:

            o  Power unit off.

            o  Remove cover and set  on its edge leaving all  wiring connected.
               Power on unit and press boot switch.

            o  Measure the  +5VDC at the large  power connector solder  land on
               the CPU board (+5VDC and ground).


        25                           HDLC u-Engine                     HDLC.FSD
        INSTALLATION                                           January 11, 1987


            o  Adjust the voltage with the Potentiometer on the +5VDC supply to
               approximately 5.1VDC (clockwise raises the voltage).

            o  To  check the  PFT setting  at  R6 on  the I/O  board  leave the
               machine running the boot routine and lower the  +5VDC adjustment
               pot on the  supply (counter-clockwise) until the  leftmost digit
               of the console freezes.



        II.  +/-12V DC ADJUSTMENT

           The following are the steps necessary to adjust the =/- 12V power:

            o  Power unit off.

            o  Remove cover as in  the second step above.  It is  not necessary
               to run the boot.

            o  Measure  the  +12VDC  from  the  YELLOW  wire  on  the  J3 molex
               connector on the I/O board.   Use the BLACK wire grounds  on the
               J2 connector on the I/O board for ground reference.

            o  Adjust the voltage to approximately +12VDC using  the adjustment
               pot on the  supply.  Counter-clockwise raises the  voltage.  The
               supply must be REMOVED to access the pot.

            o  The  -12VDC level  is adjusted with  the same  pot used  for the
               +12VDC output.

























        26                           HDLC u-Engine                     HDLC.FSD
        MAINTENANCE HINTS                                      January 11, 1987






                                6 -  MAINTENANCE HINTS







                             6.1  GENERAL TROUBLESHOOTING


        The  following  is  a  very  general  list  of  maintenance  hints  and
        troubleshooting techniques.

        1.  The ASC-117 and 160248 cables have screws that are too long  to fit
        on the  HDLC Micro  engine connectors.   These screws  will have  to be
        removed and shorter screws provided with each installation.

        2.  The HDLC Micro  engine should not be  placed so close to  any other
        equipment that the air inlet or outflow holes are blocked.

        3.  When  removing/replacing the CPU/ROM  IO board remember  to install
        the insulating grommets on the component side.

        4.  The +5 volt power cables going to the CPU/ROM IO and MEM/MAC boards
        are not interchangeable.  The cable going to the CPU/ROM IO board has 5
        red wires, where the  cable going to the  MEM/MAC board has only  4 red
        wires.

        5.  When running the SIO diagnostic, a special set of loopback plugs is
        required.  The part numbers and quantities of these plugs are:


                Qty             P/N             Description
                
                 2              630030-001      25 pin SYNC loopback plug
                 2              630025-001      37 pin SYNC loopback plug


        6.  There is a 2 amp 250 volt (fast blow) in-line fuse in the A.C. line
        to the +/- 12 volt supply.  There  is a 5 amp 250 volt (fast  blow) in-
        line fuse in the A.C. line to the + 5 volt supply.

        7.   The right  forward-most screw  on  the +  5 volt  power  supply is
        impossible  to remove  without first  removing the  +5 volt  and ground
        cables from the power supply studs.  It is recommended that  this screw
        be left out once the supply has been removed



        27                           HDLC u-Engine                     HDLC.FSD
        MAINTENANCE HINTS                                      January 11, 1987


        8.   There are  so many  terminal lugs  attached to  the +5  volt power
        supply studs that the area is overcrowded and it is difficult to get in
        there with a 3/8" nut driver  to remove the nuts.  It may  be necessary
        to break the  nut loose with  an open end  wrench before using  the nut
        driver.

        9.  After verifying the proper voltages are present for the machine the
        following diagnostics can be run on the HDLC Micro (they may  be loaded
        locally from a PC  through the TTY port  or through a downline  load as
        with the standard Engine):


            o  Memory
            o  CPU
            o  MAC
            o  SIO  
            o  SIO Slot Exerciser  



              Each of the above diagnostics should be run for  approximately 20
               minutes each  during every installation  and after any  PM.  All
               tests  should run  100% error  free.  In  event of  any failures
               confirm all strappings and  test equipment and repeat  the test.
               If failure occurs  at a customer  site simply exchange  the unit
               with  a replacement  and return  to the  local Tymnet  office to
               isolate and repair the point of failure in the machine.  Bringup
               PROMs  are available  for the  I/O boards  useful for  gross I/O
               failures which provide some scopeloop tests for  component level
               troubleshooting.   A  front console  is  highly  recommended for
               performing installations and troubleshooting.


        10.  Normal 10W dip switch settings are as follows:

             3 - ON     PFD
             4 - ON     Watdchdog timer enabled
             5 - OFF    3600/14,400 interrupter enabled
             6 - OFF    TTY port DTR signal disconnected from internal data bus
            E3 - ON     Boot  prom  can be  accessed when  the "boot" switch is
                        pressed  or  the watchdog  timer times  out;   the boot
                        function  cannot be accessed under program control, and
                        a power  fail detect  signal  will not  cause  the HDLC
                        Micro engine to be "booted"


        11.   When plugging in the +5 volt cables to the CPU/ROM IO and MEM/MAC
        boards  it  is  extremely important  that  the  connectors  be oriented
        correctly or serious damage will result!





        28                           HDLC u-Engine                     HDLC.FSD
        MAINTENANCE HINTS                                      January 11, 1987


        12.    CRC errors.   The HDLC  I/O  board contains  7 of  the  T609 Z80
        support devices.  If you have a  problem with CRC errors on any  of the
        lines look for the date codes 8526, 8527, and 8528.  These  devices are
        not  all  defective  but  a  high  incidence  of  CRC  errors  has been
        associated with the B channel  of these devices.  A simple test  of the
        device  is to  simply move  the line  in question  to a  port connector
        utilizing the A channel of a Z80 and T609.  If the problem persist then
        pursue  standard  line troubleshooting  techniques.   Check  for double
        clocks and  clock integrety  with a  breakout box,  and check  on cable
        connections and lengths. If modems are being used check  the placement,
        strapping, grounding, power,  and DC voltages  at the modems.   If this
        all checks out run a BERT  test on the line through both modems  end to
        end.  If the test fails and  both of the modems check out clean  or are
        swapped out already then locate the 829 CIU and using a TIMs  plug into
        the  test jack  and put  the remote  829 CIU  in bilateral  loopback by
        transmitting the 2713Hz tone.  This will test out the Telco between the
        two points in question  For a 3002 channel with D1 conditioning  use C-
        Message Filter for all measurements.  Transmit the 1004Hz tone and note
        the  receive  level  (in  dBs).   Transmit  at  0  dB  and  receive  at
        approximately -16 dB (+/- 4 dB).  At this time test 304, 504, 2504, and
        3004 Hz frequencies.  Leveling the receive measurement for the  1004 Hz
        tone at the TIMs to 0 will make the gain on the other  test frequencies
        easy to read.  Remember to send the 2713 Hz tone to the remote 829 when
        finished!  If the Telco  looks suspect an end  to end test of  the line
        with one person with  a TIMs at each end  is in order to  determine the
        exact  condition  of   the  line.   If   more  detail  is   needed  for
        troubleshooting the line refer to the appropriate documents.

        13.  For additional information on ISIS halts displays and  crash code,
        refer to either the ISIS2 documentation or the XRAY manual.
























        29                           HDLC u-Engine                     HDLC.FSD
        MAINTENANCE HINTS                                      January 11, 1987


                        6.2  SIO MB CHIP LEVEL TROUBLESHOOTING


        NOTE:  THE FOLLOWING SECTION  IS PROVIDED FOR MANUFACTURING AND  IS NOT
        INTENDED FOR USE IN THE FIELD.


        If a bad I/O board is encountered a special set of 5 bring up PROMs may
        be installed in the I/O board for debugging as mentioned  earlier.  The
        code for the PROMs can be found in the NTS directory on system 33 under
        the filename HDIAG.P0X to be used to burn in test PROMs.   Following is
        a  description of  the program  and the  references to  the appropriate
        pages of the  HDLC I/O schematic  for scope test  points.  It is  not a
        diagnostic and is not meant to be used as such.

        This short microcode program may be  used with a scope to bring  up the
        HDLC micro engine I/O hardware.  It will run with power applied  to the
        I/O  board alone  and does  not  need the  CPU and  memory  boards.  it
        toggles the  signals of the  central part of  SIO subsystem on  the I/O
        board.  The multifunction section  of the circuit is not  exercised nor
        is the  CPU and SIO  interface.  It assumes  that the clock  circuit is
        functioning &  clocks are present  and the  micro-instruction sequencer
        2910 can at least sequence the micro-instructions.  Scope may be set up
        to sync on 6d-11(p.3) which  occurs once each time through the  loop at
        instruction addr  0.  System clock  available at 8a-3  (page 3)  may be
        used as reference  for the micro-instruction  cycles.  If the  board is
        functioning properly,  expected events will  occur and  the appropriate
        micro-instruction time.

        Should the expected event differ from the observed event,  re-check the
        accuracy of the comments  first.  Following this section is  a line-by-
        line description of the micro-code  necessary to bring up the  HDLC I/O
        hardware.  It is outlined as follows:

           M <micro code instructions>
            
              Definition of the expected results of the micro-code operation





        Micro-code instructions for HDLC I/O hardware bringup:


           M A1+1

               Set SYNC point at 6D-11 (page 3)


           M LDCT+A3+SIOD,MUXLN+ZQ+NOTRS+RAMA,BUS8+330+BC



        30                           HDLC u-Engine                     HDLC.FSD
        MAINTENANCE HINTS                                      January 11, 1987


               Verify PD0-39, LPD0-39  everywhere PD0-39 occurs 1  cycle before
               LPD0-39 expect PD and LPD 0, 1, 6, 7, 8, 9, 12, 14, 16,  18, 20,
               22, 24, 25, 27,  30, 31, 34, 35, 36,  37 to be high.   Expect PD
               and LPD 2, 3, 4, 5, 10, 11, 13, 15, 17, 19, 21, 23, 26,  28, 29,
               32, 33, 38, 39 to be low.



           M LDCT+AC+3,COUNT+DA+SUBS+RAMD,SIOBY+0C0+B3

               Verify PD0-39, LPD0-39  everywhere PD0-39 occurs 1  cycle before
               LPD0-39.  Expect PD and LPD 0, 1, 4, 5, 10, 11, 13, 15,  17, 19,
               21, 23, 26, 28,  29, 32, 33, 38, 39  to be high.  Expect  PD and
               LPD 2, 3, 6, 7,  8, 9, 12, 14, 16,  18, 20, 22, 24, 25,  27, 30,
               31, 34, 35, 36, 37 to be low.



           M A1+COUNTD,CONST+DZ+OR+QREG,0

               6G,6H (page 3) drives 0 onto B-bus.  Expect B0-15 to be low.  9S
               (page 8) loads 0 from  B-bus 12-15.  Expect 9S-9 to be  low last
               half of the cycle and  9S-14, 9S-13, 9S-12, 9S-11 to be  low the
               next cycle.  11L, 11N, 11P, 11S (page 8) should  be as follows:


                  Pins 14, 13, 12       = 111
                  Pins 27, 28, 26       = 011
                  Pins 6, 7, 5          = 000



           M A1+SIOD,CONST+DZ+OR+RAMF,5555

               9L, 9M, 9N (page 9) loads 3E5 (hex) from PD29-PD39.   Expect the
               following pins to have these values:

                  9L-11,12,13,14        = 0111
                  9M-11,12,13,14        = 1100
                  9N-11,12,13           =  101

               6G, 6H (page  3) drives 5555 (hex)  onto B-bus.  Expect  B0-15 =
               5555 (hex)  7N, 7R (page  9) loads 5555  (hex) from  B-bus 0-15.
               11L, 11N, 11P, 11S (page 8) should have B-bus data and also:


                  Pins 20, 19, 18, 17   = 0101
                  Pins 1, 2, 3, 4       = 0001
                  Pins 14, 13, 12       = 111
                  Pins 27, 28, 26       = 011
                  Pins 6, 7, 5          = 011



        31                           HDLC u-Engine                     HDLC.FSD
        MAINTENANCE HINTS                                      January 11, 1987


           M A5+RAMD,ALU+AB+ADD,3E0+B5

               1L, 11N, 11P, 11S (page 8) should have ALU0 -> B (pin 40) and:


                  Pins 20, 19, 18, 17   = 0101
                  Pins 1, 2, 3, 4       = 0101
                  Pins 14, 13, 12       = 001
                  Pins 27, 28, 26       = 000
                  Pins 6, 7, 5          = 001

               B-bus should have AAAA (hex).  11U, 10U (page 8) should  have B-
               bus data and B -> RAMD0, also:


                  Pins 1, 2, 3, 4               = 0000
                  Pins 5, 6, 7, 8, 22, 23       = 


           M A5,ALU+ZA+OR+RAMU,BC

               11L, 11N, 11P, 11S (page 8) should have:


                  Pins 20, 19, 18, 17   = 1100
                  Pins 1, 2, 3, 4       = 0101
                  Pins 14, 13, 12       = 100
                  Pins 27, 28, 26       = 011
                  Pins 6, 7, 5          = 111


           M A6+RAMD,ALU+ZB+OR+QREG,2A0+BC

               6G, 6H (page 3) drives 2AAA (hex) onto B-bus.  11U, 10U (page 8)
               should have B-bus data and B -> RAMD0, also:


                  Pins 1, 2, 3, 4               = 0000
                  Pins 5, 6, 7, 8, 22, 23       = 101010

               11L, 11N, 11P, 11S (page 8) should have B-bus data and also:


                  Pins 20, 19, 18, 17   = 1010
                  Pins 1, 2, 3, 4       = 0110
                  Pins 14, 13, 12       = 111
                  Pins 27, 28, 26       = 011
                  Pins 6, 7, 5          = 011






        32                           HDLC u-Engine                     HDLC.FSD
        MAINTENANCE HINTS                                      January 11, 1987


           M A5+RAMD,ALU+AB+OR,BUS5+150+B5

               11L, 11N, 11P, 11S (page 8) should have ALU0 -> B (pin 40) and :


                  Pins 20, 19, 18, 17   = 0101
                  Pins 1, 2, 3, 4       = 0101
                  Pins 14, 13, 12       = 001
                  Pins 27, 28, 26       = 011
                  Pins 6, 7, 5          = 001

               B-bus should have 5555 (hex).  11U, 10U (page 8) should  have B-
               bus data and B -> RAMD0, also:


                  Pins 1, 2, 3, 4         = 0000
                  Pins 5, 6, 7, 8, 22, 23 = 010101

               8J (page 2) should have:


                  Pins 11, 13, 14, 15   = 1110
                  Pin 10                = 1



           M A5+RAMD,ALU+ZA+SUBS,TRUE+230+B9

               11L, 11N, 11P, 11S (page 8) should have ALU0 -> B (pin 40) and :


                  Pins 20, 19, 18, 17   = 1001
                  Pins 1, 2, 3, 4       = 0101
                  Pins 14, 13, 12       = 000
                  Pins 27, 28, 26       = 001
                  Pins 6, 7, 5          = 001


               B-bus should have AAAA (hex).  11U, 10U (page 8) should  have B-
               bus data and  B -> RAMD0, also:


                  Pins 1, 2, 3, 4               = 0000
                  Pins 5, 6, 7, 8, 22, 23       = 100011

               8J (page 2) should have:


                  Pins 11, 13, 14, 15   = 0001
                  Pin 10                = 0




        33                           HDLC u-Engine                     HDLC.FSD
        MAINTENANCE HINTS                                      January 11, 1987


           M AC+REGD,RAM+AQ+SUBR,CARRY+FE0+150

               11U, 10U (page 8) should have RAMS0 -> B (pin 20) and also:


                  Pins 5, 6, 7, 8, 22, 23       = 010101
                  Pins 1, 2, 3, 4               = 0000

               B-bus  should have  5555  (hex).  11L,  11N, 11P,  11S  (page 8)
               should have:


                  Pins 1, 2, 3, 4       = 1100
                  Pins 14, 13, 12       = 000
                  Pins 27, 28, 26       = 001
                  Pins 6, 7, 5          = 001

               11J (page 2) should have B -> REGD0 also:


                  Pins 27, 25, 23, 21   = 0101
                  Pins 19, 17, 4, 2     = 0101
                  Pins 40, 38, 36, 34   = 0101
                  Pin 14                = 0


                  8J (page 2) should have:


                  Pins 11, 13, 14, 15   = 0100
                  Pin 10                = 1



           M REGD,RAM+DQ+EXOR+QREG,FE0+230

               11U, 10U (page 8) should have RAMS0 -> B (pin 20) and also:


                  Pins 5, 6, 7, 8, 22, 23       = 100011
                  Pins 1, 2, 3, 4               = 0000


               B-bus should  have AAAA (hex).   11J (page 2)  should have  B ->
               REGD0 also:


                  Pins 27, 25, 23, 21   = 1010
                  Pins 19, 17, 4, 2     = 1010
                  Pins 40, 38, 36, 34   = 1010
                  Pin 14                = 1



        34                           HDLC u-Engine                     HDLC.FSD
        MAINTENANCE HINTS                                      January 11, 1987


               8J (page 2) should have:


                  Pins 11, 13, 14, 15   = 0000
                  Pin 10                = 1



           M MUXDL,RAM+DQ+OR+QREG,FE0+150

               11U, 10U (page 8) should have RAMS0 -> B (pin 20) and also:


                  Pins 5, 6, 7, 8, 22, 23       = 010101
                  Pins 1, 2, 3, 4               = 0000


               B-bus should have 5555 (hex).   2Y, 2Z (page 19) loads  B-bus 0-
               15.



           M A5+MUXDL,RAM+DA+SUBS+RAMF,CARRY+BUS0+3E0+B3

               11U, 10U (page 8) should have RAMS0 -> B (pin 20) and also:


                  Pins 5, 6, 7, 8, 22, 23       = 010011
                  Pins 1, 2, 3, 4               = 0000


               B-bus should have AAAA (hex).   2Y, 2Z (page 19) loads  B-bus 0-
               15.  8J (page 2) should have:


                  Pins 11, 13, 14, 15   = 1000
                  Pin 10                = 1


               11L, 11N, 11P, 11S (page 8) should have:


                  Pins 20, 19, 18, 17   = 0011
                  Pins 1, 2, 3, 4       = 0101
                  Pins 14, 13, 12       = 000
                  Pins 27, 28, 26       = 001
                  Pins 6, 7, 5          = 011



           M AC+MUXD,RAM+AB+OR+RAMF,150+B3

               11U, 10U (page 8) should have RAMS0 -> B (pin 20) and also:

        35                           HDLC u-Engine                     HDLC.FSD
        MAINTENANCE HINTS                                      January 11, 1987



                  Pins 5, 6, 7, 8, 22, 23       = 010101
                  Pins 1, 2, 3, 4               = 0000

               B-bus should have 5555 (hex).  6J, 6P (Page 19) loads 5555 (hex)
               from B-bus 0-15.


           M MUXD,ALU+ZB+OR,BC11L

               11N, 11P, 11S (page 8) should have ALU0 -> B (pin 40) and:


                  Pins 20, 19, 18, 17   = 1100
                  Pins 14, 13, 12       = 011
                  Pins 27, 28, 26       = 011

               B-bus should have AAAA (hex).  6J, 6P (page 19) loads AAAA (hex)
               from B-bus 0-15.



           M 3,ALU+ZB+OR,B5

               11L, 11N, 11P, 11S (page 8) should have ALU0 -> B (pin 40) and:

                  Pins 20, 19, 18, 17   = 0101
                  Pins 14, 13, 12       = 011
                  Pins 27, 28, 26       = 011


               B-bus should have 5555 (hex).  6J (page 19) loads 55  (hex) from
               B-bus 0-7.


           M A3+PROMHI,RAM+AQ+EXOR+RAMF,2A0+BC

               11L, 11N, 11P, 11S (page 8) should have ALU0 -> B (pin 40) and:


                  Pins 20, 19, 18, 17   = 1100
                  Pins 14, 13, 12       = 011
                  Pins 27, 28, 26       = 011

               B-bus should have  AAAA (hex).  8N  (page 19) loads  10 (binary)
               from B-bus 14-15.  11K (page 2) pins 3, 6 = 10.



           M A5+PROMHI,ALU+ZA+OR

               11L, 11N, 11P, 11S (page 8) should have ALU0 -> B (pin 40) and:


        36                           HDLC u-Engine                     HDLC.FSD
        MAINTENANCE HINTS                                      January 11, 1987



                  Pins 1, 2, 3, 4       = 0101
                  Pins 14, 13, 12       = 100
                  Pins 27, 28, 26       = 011


               B-bus should have  5555 (hex).  8N  (page 19) loads  01 (binary)
               from B-bus 14-15.  11K (page 2) pins 3, 6 = 01.


           M A5+SIOD,ALU+AB+EXOR+RAMF,B3

               9L, 9M, 9N  (page 9) loads 42C  (hex) from PD29-PD39.   11U, 10U
               (page 8) should have RAMS0 -> B (pin 20) and also:


                  Pins 5, 6, 7, 8, 22, 23       = 100011
                  Pins 1, 2, 3, 4               = 0000

               B-bus should have AAAA (hex).  7N, 7R (page 9) loads  AAAA (hex)
               from B-bus 0-15



           M A3+PROMHI,ALU+AB+EXOR,42C

               11L, 11N, 11P, 11S (page 8) should have ALU0 -> B (pin 40) and:


                  Pins 14, 13, 12       = 010
                  Pins 27, 28, 26       = 100

               B-bus should have 0000  (hex).   8N (page 19) loads  00 (binary)
               from B-bus 14-15.  11K (page 2) pins 3,6 = 00.


           M A3+COUNTD,ALU+AB+OR,F3+B5

               11L, 11N, 11P, 11S (page 8) should have ALU0 -> B (pin 40) and:


                  Pins 20, 19, 18, 17   = 0101
                  Pins 1, 2, 3, 4       = 0011
                  Pins 14, 13, 12       = 001
                  Pins 27, 28, 26       = 011


               B-bus should have FFFF  (hex).  9S (page 8) loads  1111 (binary)
               from B-bus 12-15.  8J (page 2) should have:





        37                           HDLC u-Engine                     HDLC.FSD
        MAINTENANCE HINTS                                      January 11, 1987



                  Pins 11, 13, 14, 15   = 0011
                  Pin 10                = 0




           M COUNT,COUNT,F3

               7K, 6S  (page 8) should  have COUNTS0 ->  B.  B-bus  should have
               000F (hex).  9S (page 8) should have COUNT0 and pins 14, 13, 12,
               11 should go from high to low.


           M ,MUX

               5F-13, 6L-1, 6R-1 (page 10) should have MUXS0 -> B.


           M ,MUXLN

               6M-1 (page 10) should have MUXLNS0 -> B


           M ,SIO

               7S-20, 7P-20 (page 9) should have SIOS0 -> B


           M JMAP,,0

               Loop the instructions






















        38                           HDLC u-Engine                     HDLC.FSD
        MAINTENANCE HINTS                                      January 11, 1987


                             6.3  HDLC MICRO PRODUCT LIST





















































        39                           HDLC u-Engine                     HDLC.FSD
        MAINTENANCE HINTS                                      January 11, 1987




        Top assy Micro
        TOP ASSY MICRO                     570011-TAB
                                           (-007 HDLC 110VAC)
                                           (-008 HDLC 220VAC)

        MICRO ENG ASSY                    650005-TAB
                                           (-007 HDLC 110VAC)
                                           (-008 HDLC 220VAC)

        COVER ASSY                         640004-004
        CB1 ASSY CONN RIB                  160141-001
        CB1 ASSY 50CN RIB                  160135-001
        ABC,MEM 1MB                        470173-003
        ABC,CPU HDLC                       470172-002

        MAIN CHASIS ASSY                   640006-TAB
                                           (-005 HDLC 110VAC)
                                           (-006 HDLC 220VAC)

        PWR SUP SUB ASSY                   640005-001
        CB1 ASSY AC PS2                    160124-001
        CB1 ASSY PS2/ I/O                  160123-001
        CB1 ASSY GND PS2O                  160122-001
        CB1 ASSY AC PWR2                   160136-001
        CB1 ASSY AC PWR2                   160136-002
        CB1 ASSY GND PWR                   160137-001
        CB1 ASSY HARNESS                   160138-001
        CB1 ASSY GND MICRO                 160131-001
        CB1 ASSY I/O PWR                   160126-001
        CB1 ASSY CPU PWR                   160127-001

        ABC,HDLC I/O                       470254-001
        CB1 ASSY MEM PWR                   160128-001
        CB1 ASSY CON PWR                   160142-001
        CB1 ASSY PN1 LED                   160130-001
        CB1 ASSY HDLC BOOT                 160294-001

        CB1 ASSY BAT PWR                   160129-001
        AXIAL FAN 110VAC(FOR -005 ONLY!)   580016-002
        AXIAL FAN 220VAC(FOR -006 ONLY!)   580016-003

        CB1 ASSY 37C J9                    160134-005
        CB1 ASSY 37C J1                    160134-006
        CB1 ASSY 37C J7                    160134-007
        CB1 ASSY 25C J2                    160133-007
        CB1 ASSY 25C J8                    160133-008
        CB1 ASSY 25C J5                    160133-009
        CB1 ASSY 50C                       160135-002




        40                           HDLC u-Engine                     HDLC.FSD
        MISCELLANEOUS INFORMATION                              January 11, 1987






                            7 -  MISCELLANEOUS INFORMATION







                          7.1  RS-232 SIGNAL LOOPBACK METHODS


        RS-232 Signal loopback is accomplished via either a breakout box or the
        standard Tymnet loopback plugs.

        For loopback via the standard plugs the following plug are necessary:


             SYNC Loopback Plugs:
                 Test plug #630030-001 (25-pin)
                 Test plug #630025-001 (37-pin)


        For  loopback  via  a  breakout box,  the  following  pin  jumpering is
        necessary:


             SYNC EIA Signals:
                 Jumper pin 2 (TD)   ==>  pin  3 (RD)
                 Jumper pin 4 (RTS)  ==>  pin  5 (CTS)
                 Jumper pin 6 (DSR)  ==>  pin 20




















        41                           HDLC u-Engine                     HDLC.FSD
        MISCELLANEOUS INFORMATION                              January 11, 1987


                              7.2  COMPONENT PART NUMBERS


        Listed below are the component part numbers for all  equipment utilized
        by the HDLC u-Engine:


        BASIC COMPONENTS:

                HDLC Microengine                        570011-008
                Cabinet
                Power Supply
                Muffin Fan
                
                HDLC CPU                                430172-002
                HDLC I/O                                430254-001
                HDLC Memory                             430173-001
                
                System Console                          430153-001
                System Console Power Connector          600102-001
                System Power Ribbon Cable               160086-001
                
                Remote ASYNC Cable (5-by)               160010-xxx
                Remote SYNC  Cable (4-by)               160248-xxx
                Remote SYNC  Cable (Straight through)   ASC140-02
                

        OPTIONAL EQUIPMENT:

                25-pin SYNC Loopback (Intra-channel)    630030-001
                37-pin SYNC Loopback (Intra-channel)    630025-001























        42                           HDLC u-Engine                     HDLC.FSD
        MISCELLANEOUS INFORMATION                              January 11, 1987


                            7.3  SAMPLE CONFIGURATION FILE


        The following is  a sample of a  Tymfile containing node  codes, ASYNC,
        SDLC and  X.25.  Note the  inclusion of new  or modified  macros BAUDR,
        ZITEL, MACHIN and IKNRNG.


        :: ******************************************************************
        ::           FILE: KERNEL
        ::   COMPANY NAME: TYMNET
        ::    NODE NUMBER: 5555                 LOCATION: ORCHARD PARKWAY
        ::    KERNEL HOST: 8888                     HOST: FF
        ::    SLOT NUMBER: FF
        ::        VERSION: 7.03                     DATE: 04-SEP-86
        :: ******************************************************************


        :               PARAMETERS WITH ":*" ARE DEFAULTED TO ZERO (0)
        :               IF NOT PRESENT.

        :               HARDWARE CONFIGURATION
        BAUDR   EQ      0       :  0 IF 1200 BAUD INTERRUPTS
        ENGINE  EQ      1       :  1 IF HARDWARE IS A TYMNET ENGINE
        MACHIN  EQ      2       :  2=HDLC MICRO, 1=ENGINE(DEFAULT)
        IKNRNG  EQ      1       :  KIO RING PARAMETER FOR ISIS VERN. 6+
        MICRO   EQ      2       :  ASYNC- AND SYNC-ENHANCED MICROCODE
        ZITEL   EQ      0       :  1 IS FOR ZITEL MAC
        SILINS  EQ      4       :  NUMBER OF V.24 LINES ASSIGNED TO NODE CODE
        LBOOT   EQ      1       :  RESERVED CORE FOR BOOT LOADER
        N.ADA   EQ      1       :* 1 IF NEW ASYNC ADDRESSING
        NASYNG  EQ      0       :  NUMBER OF ASYNC GROUPS (2/BD.)
        ASYNEW  EQ      1       :  ENABLE NEW ASYNC DRIVERS
        CONSAT  EQ      1       :  ENABLE CONSAT DRIVERS
        M.NCARD EQ      1       :* NUMBER OF MOTHERBOARDS
        M.NP0   EQ      $A 13   :  NUMBER OF PORTS ON MOTHERBOARD0
        M.DA0   EQ      080     :  DEVICE ADDRESS FOR MOTHERBOARD 0


        :               ISIS CONFIGURATION CONSTRAINTS
        NSLOT   EQ      3       :  NUMBER OF SLOTS TO CONNECT
        NLU     EQ      5       :  MAXIMUM NUMBER OF LOGICAL UNITS PER SLOT
        BGMIN   EQ      $A 80   :  80 MINUTES BEFORE PROBE MSG MUST BE PUT OUT











        43                           HDLC u-Engine                     HDLC.FSD
        MISCELLANEOUS INFORMATION                              January 11, 1987



        :               NODE CONFIGURATION
        TII     EQ      1       :  TYMNET II IS ON THIS NODE
        PTHRU   EQ      0       :* 1 IF PASSTHROUGHS ARE INHIBITTED
        MACHNM  EQ      $8 5555 :  NODE NUMBER
        HST0    EQ      $A 8888 :  KERNEL HOST NUMBER
        NSYNC   EQ      1       :  NUMBER OF LINES EMULATING SYNC
        NLINES  EQ      1       :  NUMBER OF SYNC LINES TO OTHER NODES
        REBILD  EQ      1       :  ENABLES TYMNET-II REBUILD



        :               NETWORK CONFIGURATION
                TIILNK(3333,8,8)        :NEI 3333, 8 GROUPS, WSIZ 8  
                TIILNK(3334,8,8)        :NEI 3334, 8 GROUPS, WSIZ 8  
                TIILNK(3335,8,8)        :NEI 3335, 8 GROUPS, WSIZ 8  
        XLINKS  EQ      2               :DEFINES XLINKS



        :       SLOT 0 --- THE NODE CODE 
        S0CORE  EQ      $A 270
        NLUS0   EQ      5               :NUMBER OF LOGICAL UNITS FOR SLOT 0
        S0L0    S.REF(0)                :SYNC LINE 0
        S0L1    M.REF(0,1)              :M.REF 1
        S0L2    M.REF(0,2)              :M.REF 2
        S0L3    M.REF(0,3)              :M.REF 3S0L4    

        M.REF(0,8)                      :M.REF 8



        :       SLOT 1 --- X.25 HOST INTERFACE --- HOST 5198
        S1CORE  EQ      $A 200          :CORE SIZE FOR SLOT 1
        S1LIC   EQ      0               :LICENSE FOR SLOT 1
        NLUS1   EQ      1               :NUMBER OF LOGICAL UNITS FOR SLOT 1
        S1L0    M.REF(0,4)              :M.REF 4



        :       SLOT 2 --- SDLC TERMINAL/HOST INTERFACE --- HOSTS 16754
        S2CORE  EQ      $A 300          :CORE SIZE FOR SLOT 2
        S2LIC   EQ      0               :LICENSE FOR SLOT 2
        NLUS2   EQ      3               :NUMBER OF LOGICAL UNITS FOR SLOT 2
        S2L0    M.REF(0,5)              :M.REF 5
        S2L1    M.REF(0,6)              :M.REF 6
        S2L2    M.REF(0,7)              :M.REF 7







        44                           HDLC u-Engine                     HDLC.FSD
        MISCELLANEOUS INFORMATION                              January 11, 1987



        :       SLOT 3 --- ASYNC TYMCOM --- HOST 6256
        S3CORE  EQ      $A 60           :CORE SIZE FOR SLOT 3
        S3LIC   EQ      0               :LICENSE FOR SLOT 3
        NLUS3   EQ      4               :NUMBER OF LOGICAL UNITS FOR SLOT 3
        S3L0    M.REF(0,0A)             :M.REF 10
        S3L1    M.REF(0,0B)             :M.REF 11
        S3L2    M.REF(0,0C)             :M.REF 12
        S3L3    M.REF(0,0D)             :M.REF 13

                END


        NOTE:  For line speeds of greater than 9600 use Window Size of 12 or 16
        as should be used for double-line links.







































        45                           HDLC u-Engine                     HDLC.FSD
        PERFORMANCE CAPABILITIES                               January 11, 1987






                             8 -  PERFORMANCE CAPABILITIES







                      8.1  PERFORMANCE CAPABILITIES OVERVIEW ISIS


        The total  throughput of  the HDLC micro  engine is  a function  of the
        speed  of the  communication lines  and the  available CPU  power.  The
        number of ports  specified for the machine,  the number of  ISIS slots,
        the  various  types  of software  applications,  and  the  clock speeds
        selected  for the  lines  all impact  the  available CPU  power  of the
        machine.  Therefore, the number and speed of the ports allowable in the
        HDLC  micro,  and  the  total  machine  throughput  is  subject  to the
        individual  configuration.   The total  aggregate  throughput  must not
        exceed 9200 cps.

        Communication line speed and operating capabilities are as follows:

                SIO/SYNC                          SIO/ASYNC

                up to  4 lines @ 19.2K bps         none

                up to  3 lines @ 19.2K bps plus    none
                up to  4 lines @  9.6K bps        

                up to  2 lines @ 19.2K bps plus    none
                up to  6 lines @  9.6K bps        

                up to  1 line  @ 19.2K bps plus    none 
                up to  8 lines @  9.6K bps        

                up to 10 lines @  9.6K bps         up to 4 @ 9.6k using conver-
                                                   sation mode terminals

        The  HDLC  micro SIO/ASYNC  ports  will support  full  or  half duplex;
        conversation or  block mode data  transmission.  When  supporting block
        mode transmission, or  PC file transfers, little  CPU power is  left to
        support any other slot interface applications, or even a full  array of
        network lines.  When  using PC's and/or  block mode terminals  the most
        logical configuration would assign up to 4 SIO/ASYNC ports @ up to 9.6K
        and  up  to 4  9.6K  bps or  2  19.2K bps  SIO/SYNC  ports  for network
        connectivity, to the machine.   Each 9.6K SIO/ASYNC port  will transfer
        data up to approximately 720 cps.


        46                           HDLC u-Engine                     HDLC.FSD
        PERFORMANCE CAPABILITIES                               January 11, 1987


                             8.2  BENCHMARK #1 STANDALONE


        The standalone test consisted of  dedicating all 10 ports on  the micro
        to slot 0 and referencing them as SYNC and SIO devices.  Initially, all
        10 ports  were executed at  9.6k and  then one by  one the  clocks were
        turned up to 19.2k.  With 5 9.6k ports and 5 19.2k ports the HDLC micro
        fell into  constant error  conditions regardless of  the load  upon it.
        With 4 19.2  ports the machine appeared  to perform acceptably  but the
        throughput was not appreciably higher than with just 2 or 3  19.2 lines
        in service indicating  the restriction to  throughput is a  function of
        CPU resource limitations, not bandwidth.  With no ASYNC being supported
        by the  machine, a  configuration of 8  9.6k lines  plus 2  19.2k lines
        (either  SYNC  or  SIO) utilizes  approximately  90%  of  the available
        bandwidth and the lines run 'clean' under light loads and heavy loads.






                     8.3  BENCHMARK #2 NODE CODE AND 2 X.25 SLOTS


        The first  X.25 benchmark consisted  of testing the  HDLC micro  with 2
        X.25 slots (in addition to the node code).  Results of the tests are as
        follows:


        HDLC MICRO ENGINE X.25 BENCHMARK TEST #1 


        Code versions:  
            Kernel      7.02
            Node        5.10
            XCOM (X.25) 3.01


        Slots: 
            0 = Node Code
            1 = X.25
            2 = X.25


        Ports:
            0 = 2 SYNC @ 9.6K
            1 = 2 HDLC @ 9.6K
            2 = 2 HDLC @ 9.6K

            TOTAL # OF PORTS = 6
         



        47                           HDLC u-Engine                     HDLC.FSD
        PERFORMANCE CAPABILITIES                               January 11, 1987


        Slot 0 max logical cps =  2125 total
            (approximately 1060 cps in / 1065 cps out)
         
        Machine aggregate max physical cps = 5448
            (2584 cps in / 2200 cps out)


        Exec counts:
            start of test (no load)     = 172
            low water                   =  46
            average during test         =  52


        CPU resource utilization:  
            kernel       1% -  3%
            slot 0      19% - 21%
            slot 1      17% - 45%
            slot 2      18% - 46%


        NOTE:  CPU  utilization is dynamic  and the numbers  recorded represent
        the range reported at various samples during testing.

        Code delays:      Up to 209 milliseconds (115 ms code delay + 93 ms h/w
        delay)


        COMPARISON TEST ON FULL ENGINE

        Tymnet engine:
             ZITEL set to zero with dynamic memory
             Equivalent to micro pcsio mother board rev e firmware
             V.24 daughter-cards
             All code is identical to the micro engine code
             Port configuration is identical
             Line speeds:
                 Network lines  = 9.6K
                 X.25 lines     = 8.0K


        Exec counts:
             start of test (no load)    = 258     
             low water                  = 44
             average during test        = 80


        Slot 0 maximum logical cps = 2566
            (approximately 1292 cps in / 1274 cps out)


        Machine maximum aggregate physical cps = 6446
            (3168 cps in/ 3286 cps out)


        48                           HDLC u-Engine                     HDLC.FSD
        PERFORMANCE CAPABILITIES                               January 11, 1987


        CPU resource utilization:  
            Kernel      =  3% -  5%
            slot 0      = 18% - 30%
            slot 1      = 19% - 53%
            slot 2      = 19% - 48%

        Code delays:
            up to 151 milliseconds (90 ms code delay + 38 ms h/w delay)


        TEST 1 CONCLUSIONS (HDLC MICRO):

        Network throughput = 83% of the engines
        Aggregate total    = 86% of the engines
        Code delay         = 1.38 times greater than the engines
        Processing rate    = 63% of the engines

        The crypto loggers reported no error conditions during testing.






                     8.4  BENCHMARK #2 NODE CODE AND 3 X.25 SLOTS


        The second X.25 benchmark consisted of adding a third X.25 slot  to the
        test configuration described in Benchmark #1.  Results of the tests are
        as follows:

        HDLC MICRO ENGINE X.25 BENCHMARK TEST #1 


        Code versions:  
            Kernel      7.02
            Node        5.10
            XCOM (X.25) 3.01


        Slots: 
            0 = Node Code
            1 = X.25
            2 = X.25
            3 = X.25









        49                           HDLC u-Engine                     HDLC.FSD
        PERFORMANCE CAPABILITIES                               January 11, 1987


        Ports:
            0 = 2 SYNC @ 9.6K
            1 = 2 HDLC @ 9.6K
            2 = 2 HDLC @ 9.6K
            3 = 2 HDLC @ 9.6K

            TOTAL # OF PORTS = 8
         

        Slot 0 max logical cps =  3040 total
            (approximately 1529 cps in / 1511 cps out)
         
        Machine aggregate max physical cps = 7816
            (3416 cps in / 4400 cps out)


        Exec counts:
            start of test (no load)     = 150
            low water                   =   6
            average during test         =  12


        CPU resource utilization:  
            kernel       0% -  4%
            slot 0      15% - 21%
            slot 1      11% - 39%
            slot 2      11% - 38%
            slot 3      10% - 36%


        NOTE:  CPU  utilization is dynamic  and the numbers  recorded represent
        the range reported at various samples during testing.

        Code delays:      Up to 251 milliseconds (167 ms code delay + 83 ms h/w
        delay)


        COMPARISON TEST ON FULL ENGINE

        Tymnet engine:
             ZITEL set to zero with dynamic memory
             Equivalent to micro pcsio mother board rev e firmware
             V.24 daughter-cards
             All code is identical to the micro engine code
             Port configuration is identical
             Line speeds: 
                 Network lines  = 9.6K
                 X.25 lines     = 8.0K






        50                           HDLC u-Engine                     HDLC.FSD
        PERFORMANCE CAPABILITIES                               January 11, 1987


        Exec counts:
             start of test (no load)    = 178
             low water                  =   4
             average during test        =  19


        Slot 0 maximum logical cps = 3618
            (approximately 1820 cps in / 1798 cps out)


        Machine maximum aggregate physical cps = 9285
            (4702 cps in / 4583 cps out)


        CPU resource utilization:  
            Kernel      =  1% -  3%
            slot 0      = 19% - 21%
            slot 1      = 16% - 36%
            slot 2      = 18% - 36%
            slot 3      = 17% - 36%

        Code delays:
            up to 186 milliseconds (121 ms code delay + 65 ms h/w delay)


        TEST 2 CONCLUSIONS (HDLC MICRO):

        Network throughput = 84% of the engines
        Aggregate total    = 84% of the engines
        Code delay         = 1.35 times greater than the engines
        Processing rate    = 63% of the engines


        The crypto logger reported no error conditions during  testing however;
        xray commands  did show that  both machines were  progressively getting
        farther  and  farther  behind  in  processing  input  data.   the  idsm
        accumulator recording the number  of times the dispatcher ran  for 1/16
        second and still had not serviced all data to the dispatcher constantly
        incremented  in both  machines.   neither machine  performed  very well
        under this  heavy load and  this would seem  to indicate  a performance
        limit threshold  was very  near.  the machines  did manage  to struggle
        along and more importantly, the hdlc micro performance  numbers tracked
        in  nearly  a  straight  line  from  the  previous  testing, indicating
        predictability  of hdlc  micro performance  compared to  the  engine is
        possible.









        51                           HDLC u-Engine                     HDLC.FSD
        PERFORMANCE CAPABILITIES                               January 11, 1987


                         8.5  BENCHMARK #3 NODE CODE AND SDLC


        The benchmark test incorporating  an SDLC interface in addition  to the
        standard node resulted in the following performance statistics:


        Code versions:  
            Kernel      7.02
            Node        5.10
            SDLC        1.12


        Slots: 
            0 = Node Code

        Neighbors:
            5 SYNC and SIO double-line links


        Ports:  10 @ 9.6 K


        Slot 0 max logical cps =  11515 total
            (5345 cps in / 6170 cps out)
         
        Machine aggregate max physical cps = 13546
            (6288 cps in / 7258 cps out)


        Exec counts:
            start of test (no load)     = 151
            low water                   =  40
            average during test         =  96


        Code delays:  
            Up to 133 milliseconds (37 ms code delay + 96 ms h/w delay)

        Passthrus:  
            79   Passthrough  circuits  from  Throughtput  hosts  resident   in
            negihbor nodes
            Burst = 10-40 varying

        Packetsize:
            Average 100 bytes

        Bandwidth Utilization:
            47.98 % of theoretical maximum
            Error logger reported 2 lines saturated but no retransmissions

        Cable Length:
            25 foot maximum used

        52                           HDLC u-Engine                     HDLC.FSD
        PERFORMANCE CAPABILITIES                               January 11, 1987


                    8.6  BENCHMARK #4 NODE CODE PLUS X.25 AND SDLC


        The benchmark test incorporating an SDLC interface, an  X.25 interface,
        and the standard node resulted in the following performance statistics:

        HDLC MICRO ENGINE SDLC AND X.25 BENCHMARK TEST 

        Code versions:  
            Kernel      7.02
            Node        5.10
            SDLC        1.12
            XCOM (X.25) 3.01


        Slots: 
            0 = Node Code
            1 = CONSAT

        Neighbors:
            5 SYNC and SIO double-line links


        Ports:  14 @ 9.6 K


        Slot 0 max logical cps =  5700 total
            (approximately 2868 cps in / 2832 cps out)
         
        Machine aggregate max physical cps = 6706
            (3374 cps in / 3332 cps out)


        Exec counts:
            start of test (no load)     = 101
            low water                   =   8
            average during test         =  49


        Code delays:  
            Up to 176 milliseconds (47 ms code delay + 129 ms h/w delay)

        Passthrus:  
            24   Passthrough  circuits  from  Throughtput  hosts  resident   in
            negihbor nodes
            Burst = 10-40 varying, plus barber pole

        Packetsize:
            Average 70 bytes

        Bandwidth Utilization:
            29.94 % of theoretical maximum


        53                           HDLC u-Engine                     HDLC.FSD
        PERFORMANCE CAPABILITIES                               January 11, 1987


                              8.7  TEST-BED CONFIGURATION



        Cable Length:
            25 foot maximum used
        ===========================================================




        TESTBED CONFIGURATION



        ----------                              ----------
        |        |                              |        |
        | ENGINE |                              | ENGINE |
        |        |                              |        |
        |   #1   |\                            /|   #2   |
        |        |\\                          //|        |
        ---------- \\                        // ----------
                    \\                      //
          /|         \\                    //
         / |          \\SYNC          SYNC//
        /____.   /|    \\                //
           | .  / |     \\              //
        ---- . /____.    \\ ---------- //                 ----------
             .    | .     \\|        |//                  |        |
             . ---- . ASYNC\|  HDLC  |/       V.24        | ENGINE |
             ***************|   u-   |====================|        |
             .   /| .      /| ENGINE |\                   |   #3   |
          /| .  / | .     //|        |\\                  |        |
         / | . /____.    // ---------- \\                 ----------
        /____.    |     //              \\
           |   ----    //                \\
        ----          //SYNC          SYNC\\
                     //                    \\
        ----------  //                      \\  ----------
        |        | //                        \\ |        |
        | ENGINE |//                          \\| ENGINE |
        |        |/                            \|        |
        |   #4   |                              |   #5   |
        |        |                              |        |
        ----------                              ----------









        54                           HDLC u-Engine                     HDLC.FSD
    c@?